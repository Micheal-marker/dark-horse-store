10:16:47:086  INFO 47956 --- [main] com.hmall.pay.PayApplication             : The following 1 profile is active: "local"
10:16:48:810  INFO 47956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
10:16:48:815  INFO 47956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
10:16:48:861  INFO 47956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
10:16:49:405  INFO 47956 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=140d2811-ebd2-3a75-8be8-769a16975e42
10:16:50:031  INFO 47956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8086 (http)
10:16:50:049  INFO 47956 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
10:16:50:050  INFO 47956 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.75]
10:16:50:376  INFO 47956 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
10:16:50:376  INFO 47956 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3247 ms
10:16:50:680  INFO 47956 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-service' URL not provided. Will try picking an instance via load-balancing.
10:16:51:096  INFO 47956 --- [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'trade-service' URL not provided. Will try picking an instance via load-balancing.
10:16:55:408  INFO 47956 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
10:16:55:439  INFO 47956 --- [main] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
10:16:57:301  INFO 47956 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
10:16:57:555  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 48cb7a48-e108-45b4-8c82-0d03aec1e2fe
10:16:57:555  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] RpcClient init label, labels = {module=naming, source=sdk}
10:16:57:559  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
10:16:57:560  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
10:16:57:561  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
10:16:57:562  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Try to connect to server on start up, server: {serverIp = '192.168.43.143', server main port = 8848}
10:16:57:707  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Success to connect to server [192.168.43.143:8848] on start up, connectionId = 1760494617581_192.168.43.144_22740
10:16:57:707  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
10:16:57:707  INFO 47956 --- [main] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$472/0x0000000840393040
10:16:57:707  INFO 47956 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Notify connected event to listeners.
10:16:57:792  INFO 47956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8086 (http) with context path ''
10:16:57:806  INFO 47956 --- [main] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP pay-service 192.168.113.1:8086 register finished
10:16:58:337  INFO 47956 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Receive server push request, request = NotifySubscriberRequest, requestId = 950
10:16:58:359  INFO 47956 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Ack server push request, request = NotifySubscriberRequest, requestId = 950
10:16:59:280  INFO 47956 --- [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
10:16:59:281  INFO 47956 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
10:16:59:284  INFO 47956 --- [main] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
10:16:59:321  INFO 47956 --- [main] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
10:16:59:469  INFO 47956 --- [main] com.hmall.pay.PayApplication             : Started PayApplication in 21.711 seconds (JVM running for 23.879)
10:16:59:477  INFO 47956 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service, group=DEFAULT_GROUP
10:16:59:479  INFO 47956 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service.yaml, group=DEFAULT_GROUP
10:16:59:480  INFO 47956 --- [main] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=pay-service-local.yaml, group=DEFAULT_GROUP
10:24:08:841  INFO 47956 --- [http-nio-8086-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
10:24:08:841  INFO 47956 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
10:24:08:842  INFO 47956 --- [http-nio-8086-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
10:24:08:953  INFO 47956 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
10:24:09:143  INFO 47956 --- [http-nio-8086-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
10:24:09:151 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE (biz_order_no = ?)
10:24:09:172 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : ==> Parameters: 1978285733402570753(Long)
10:24:09:203 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.selectOne  : <==      Total: 0
10:24:09:246 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : ==>  Preparing: INSERT INTO pay_order ( id, biz_order_no, pay_order_no, biz_user_id, pay_channel_code, amount, pay_type, status, pay_over_time ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? )
10:24:09:251 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : ==> Parameters: 1978285737475268611(Long), 1978285733402570753(Long), 1978285737475268610(Long), 1(Long), balance(String), 35400(Integer), 5(Integer), 1(Integer), 2025-10-15T12:24:09.242699200(LocalDateTime)
10:24:09:262 DEBUG 47956 --- [http-nio-8086-exec-2] c.h.pay.mapper.PayOrderMapper.insert     : <==    Updates: 1
10:24:33:628 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.p.mapper.PayOrderMapper.selectById   : ==>  Preparing: SELECT id,biz_order_no,pay_order_no,biz_user_id,pay_channel_code,amount,pay_type,status,expand_json,result_code,result_msg,pay_success_time,pay_over_time,qr_code_url,create_time,update_time,creater,updater,is_delete FROM pay_order WHERE id=?
10:24:33:628 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.p.mapper.PayOrderMapper.selectById   : ==> Parameters: 1978285737475268611(Long)
10:24:33:639 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.p.mapper.PayOrderMapper.selectById   : <==      Total: 1
10:24:33:641 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> PUT http://user-service/users/money/deduct?pw=123&amount=35400 HTTP/1.1
10:24:33:641 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] user-info: 1
10:24:33:641 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] ---> END HTTP (0-byte body)
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- HTTP/1.1 200  (272ms)
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] connection: keep-alive
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] content-length: 0
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] date: Wed, 15 Oct 2025 02:24:33 GMT
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] keep-alive: timeout=60
10:24:33:914 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.UserClient          : [UserClient#deductMoney] <--- END HTTP (0-byte body)
10:24:33:924 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.pay.mapper.PayOrderMapper.update     : ==>  Preparing: UPDATE pay_order SET status=?,pay_success_time=? WHERE (id = ? AND status IN (?,?))
10:24:33:924 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.pay.mapper.PayOrderMapper.update     : ==> Parameters: 3(Integer), 2025-10-15T10:24:33.914385200(LocalDateTime), 1978285737475268611(Long), 0(Integer), 1(Integer)
10:24:33:934 DEBUG 47956 --- [http-nio-8086-exec-6] c.h.pay.mapper.PayOrderMapper.update     : <==    Updates: 1
10:24:33:935 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] ---> PUT http://trade-service/orders/1978285733402570753 HTTP/1.1
10:24:33:935 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] user-info: 1
10:24:33:935 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] ---> END HTTP (0-byte body)
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] <--- HTTP/1.1 200  (60ms)
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] connection: keep-alive
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] content-length: 0
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] date: Wed, 15 Oct 2025 02:24:33 GMT
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] keep-alive: timeout=60
10:24:33:996 DEBUG 47956 --- [http-nio-8086-exec-6] com.hmall.api.client.TradeClient         : [TradeClient#markOrderPaySuccess] <--- END HTTP (0-byte body)
10:24:34:268  INFO 47956 --- [nacos-grpc-client-executor-112] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Receive server push request, request = NotifySubscriberRequest, requestId = 961
10:24:34:268  INFO 47956 --- [nacos-grpc-client-executor-112] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Ack server push request, request = NotifySubscriberRequest, requestId = 961
10:24:34:469  INFO 47956 --- [nacos-grpc-client-executor-113] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Receive server push request, request = NotifySubscriberRequest, requestId = 962
10:24:34:469  INFO 47956 --- [nacos-grpc-client-executor-113] com.alibaba.nacos.common.remote.client   : [48cb7a48-e108-45b4-8c82-0d03aec1e2fe] Ack server push request, request = NotifySubscriberRequest, requestId = 962
